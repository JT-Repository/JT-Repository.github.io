<!DOCTYPE html>
<html class="smooth-scroll" lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tailwind CSS Project</title>
<link rel="stylesheet" href="build/tailwind.css">
<script src="https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js" defer></script>
<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
</head>

<body class="antialiased">

    <div class="flex flex-col lg:flex-row overflow-hidden" x-data="learningData()">

        <!-- nav -->
        <nav class="menu-panel hidden-initial show-in-progress" @click.away="menuOpen = false">
            <div class="flex justify-between lg:hidden">
                <button class="flex justify-start items-center outline-none" @click="menuOpen = !menuOpen">
                    <svg class="" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4c-1.104,0-2,0.896-2,2  s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2s0.896,2,2,2h24c1.104,0,2-0.896,2-2  S29.104,22,28,22z"/>
                    </svg>
                    <span class="font-extrabold text-white text-lg ml-2" :class="{ 'hidden' : menuOpen , 'block' : !menuOpen }">MENU</span>
                </button>
                <span class="hidden" id="home1">
                    <svg class="" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 9.185l7 6.514v6.301h-3v-5h-8v5h-3v-6.301l7-6.514zm0-2.732l-9 8.375v9.172h7v-5h4v5h7v-9.172l-9-8.375zm12 5.695l-12-11.148-12 11.133 1.361 1.465 10.639-9.868 10.639 9.883 1.361-1.465z"/>
                    </svg>
                </span>
            </div>
            <div class="lg:flex lg:flex-col lg:h-screen lg:items-between" :class="{ 'h-screen' : menuOpen , 'hidden lg:flex' : !menuOpen }">
                <div class="flex flex-col h-full icons-top">
                    <button @click="menuOpen = false">
                        <svg class="lg:mb-7 xl:mb-8 2xl:mb-9" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1216 1344v128q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64v-384h-64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h384q26 0 45 19t19 45v576h64q26 0 45 19t19 45zm-128-1152v192q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-192q0-26 19-45t45-19h256q26 0 45 19t19 45z"/>
                        </svg>
                    </button>
                    <button @click="menuOpen = false">
                        <svg class="lg:mb-10 xl:mb-11 2xl:mb-12" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
                            <path d="M204.8 230.4c-10.6-14.1-30.7-17-44.8-6.4-14.1 10.6-17 30.7-6.4 44.8l38.1 50.8c4.8 6.4 4.1 15.3-1.5 20.9l-12.8 12.8c-6.7 6.7-17.6 6.2-23.6-1.1L64 244.4V96c0-17.7-14.3-32-32-32S0 78.3 0 96v218.4c0 10.9 3.7 21.5 10.5 30l104.1 134.3c5 6.5 8.4 13.9 10.4 21.7 1.8 6.9 8.1 11.6 15.3 11.6H272c8.8 0 16-7.2 16-16V384c0-27.7-9-54.6-25.6-76.8l-57.6-76.8zM608 64c-17.7 0-32 14.3-32 32v148.4l-89.8 107.8c-6 7.2-17 7.7-23.6 1.1l-12.8-12.8c-5.6-5.6-6.3-14.5-1.5-20.9l38.1-50.8c10.6-14.1 7.7-34.2-6.4-44.8-14.1-10.6-34.2-7.7-44.8 6.4l-57.6 76.8C361 329.4 352 356.3 352 384v112c0 8.8 7.2 16 16 16h131.7c7.1 0 13.5-4.7 15.3-11.6 2-7.8 5.4-15.2 10.4-21.7l104.1-134.3c6.8-8.5 10.5-19.1 10.5-30V96c0-17.7-14.3-32-32-32z"/>
                        </svg>
                    </button>
                    <button @click="menuOpen = false">
                        <svg class="" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M21.826 9h-2.086c.171-.487.262-.957.262-1.41 0-2.326-1.818-3.776-4.024-3.573-2.681.247-4.518 3.71-4.978 4.484-.527-.863-2.261-4.238-4.981-4.494-2.11-.199-4.019 1.181-4.019 3.582 0 3.109 4.347 7.084 9.001 11.615 1.16-1.127 2.285-2.208 3.324-3.243l.97 1.857c-1.318 1.302-2.769 2.686-4.294 4.181-6.164-6.037-11.001-10.202-11.001-14.403 0-3.294 2.462-5.526 5.674-5.596 2.163-.009 4.125.957 5.327 2.952 1.177-1.956 3.146-2.942 5.253-2.942 3.064 0 5.746 2.115 5.746 5.595 0 .464-.06.928-.174 1.395zm-11.094 4c-.346.598-.992 1-1.732 1-1.104 0-2-.896-2-2s.896-2 2-2c.74 0 1.386.402 1.732 1h1.222l1.88-2.71c.14-.202.376-.315.622-.299.245.016.464.161.576.38l2.27 4.437.813-1.45c.124-.221.357-.358.611-.358h5.274v2h-4.513l-1.759 2.908c-.132.219-.373.348-.629.337-.255-.01-.484-.16-.598-.389l-2.256-4.559-.989 1.406c-.131.186-.345.297-.573.297h-1.951z"/>
                        </svg>
                    </button>
                </div>

                <div class="hidden" id="home2">
                    <button @click="menuOpen = false">
                        <svg class="" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 9.185l7 6.514v6.301h-3v-5h-8v5h-3v-6.301l7-6.514zm0-2.732l-9 8.375v9.172h7v-5h4v5h7v-9.172l-9-8.375zm12 5.695l-12-11.148-12 11.133 1.361 1.465 10.639-9.868 10.639 9.883 1.361-1.465z"/>
                        </svg>
                    </button>
                </div>

            </div>
        </nav>

        <!-- content area -->
        <section class="content-panel homepage" :class="{ 'overflow-hidden' : menuOpen , 'overflow-auto' : !menuOpen }" id="homePage">
            <div class="inner">
                <div class="md:absolute flex justify-center w-full text-center mb-8 md:mb-0 md:top-24 lg:top-[8vh] xl:top-[9vh] 2xl:top-[10vh] z-30">
                    <h1 class="text-cyan-900 font-bold leading-10">eModule: Learning Disabilities</h1>
                </div>
                <div class="block">
                    <div class="head">
                        <svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1216 1344v128q0 26-19 45t-45 19h-512q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h64v-384h-64q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h384q26 0 45 19t19 45v576h64q26 0 45 19t19 45zm-128-1152v192q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-192q0-26 19-45t45-19h256q26 0 45 19t19 45z"/>
                        </svg>
                        <h2 class="lg:pt-2">Introduction</h2>
                    </div>
                    <div class="foot">
                        <ul>
                            <li>What defines a 'learning disability'</li>
                            <li> Understanding learning disabilities</li>
                            <li>Common types of learning disability</li>
                            <li>Causes for learning difficulties</li>
                        </ul>
                    </div>
                </div>
                <div class="block">
                    <div class="head">
                        <svg viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
                            <path d="M204.8 230.4c-10.6-14.1-30.7-17-44.8-6.4-14.1 10.6-17 30.7-6.4 44.8l38.1 50.8c4.8 6.4 4.1 15.3-1.5 20.9l-12.8 12.8c-6.7 6.7-17.6 6.2-23.6-1.1L64 244.4V96c0-17.7-14.3-32-32-32S0 78.3 0 96v218.4c0 10.9 3.7 21.5 10.5 30l104.1 134.3c5 6.5 8.4 13.9 10.4 21.7 1.8 6.9 8.1 11.6 15.3 11.6H272c8.8 0 16-7.2 16-16V384c0-27.7-9-54.6-25.6-76.8l-57.6-76.8zM608 64c-17.7 0-32 14.3-32 32v148.4l-89.8 107.8c-6 7.2-17 7.7-23.6 1.1l-12.8-12.8c-5.6-5.6-6.3-14.5-1.5-20.9l38.1-50.8c10.6-14.1 7.7-34.2-6.4-44.8-14.1-10.6-34.2-7.7-44.8 6.4l-57.6 76.8C361 329.4 352 356.3 352 384v112c0 8.8 7.2 16 16 16h131.7c7.1 0 13.5-4.7 15.3-11.6 2-7.8 5.4-15.2 10.4-21.7l104.1-134.3c6.8-8.5 10.5-19.1 10.5-30V96c0-17.7-14.3-32-32-32z"/>
                        </svg>
                        <h2 class="lg:pt-2">Support</h2>
                    </div>
                    <div class="foot">
                        <ul>
                            <li>Barriers to support</li>
                            <li>Treatment and management</li>
                            <li>Pateints at risk of harm</li>
                            <li>Legislation</li>
                        </ul>
                    </div>
                </div>
                <div class="block">
                    <div class="head">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M21.826 9h-2.086c.171-.487.262-.957.262-1.41 0-2.326-1.818-3.776-4.024-3.573-2.681.247-4.518 3.71-4.978 4.484-.527-.863-2.261-4.238-4.981-4.494-2.11-.199-4.019 1.181-4.019 3.582 0 3.109 4.347 7.084 9.001 11.615 1.16-1.127 2.285-2.208 3.324-3.243l.97 1.857c-1.318 1.302-2.769 2.686-4.294 4.181-6.164-6.037-11.001-10.202-11.001-14.403 0-3.294 2.462-5.526 5.674-5.596 2.163-.009 4.125.957 5.327 2.952 1.177-1.956 3.146-2.942 5.253-2.942 3.064 0 5.746 2.115 5.746 5.595 0 .464-.06.928-.174 1.395zm-11.094 4c-.346.598-.992 1-1.732 1-1.104 0-2-.896-2-2s.896-2 2-2c.74 0 1.386.402 1.732 1h1.222l1.88-2.71c.14-.202.376-.315.622-.299.245.016.464.161.576.38l2.27 4.437.813-1.45c.124-.221.357-.358.611-.358h5.274v2h-4.513l-1.759 2.908c-.132.219-.373.348-.629.337-.255-.01-.484-.16-.598-.389l-2.256-4.559-.989 1.406c-.131.186-.345.297-.573.297h-1.951z"/>
                        </svg>
                        <h2 class="lg:pt-2">Healthcare</h2>
                    </div>
                    <div class="foot">
                        <ul>
                            <li>Access to healthcare</li>
                            <li>Annual health checks</li>
                            <li>Associated health conditions</li>
                            <li>Reasonable adjustments</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section> 

        <!-- injected content -->
        <section class="content-panel injected hidden-initial show-in-progress">
            <div class="inner" id="injectionPoint"></div>
        </section>

        <!-- progress bar -->
        <div class="progress-overlay">

                <button class="flex items-center order lg:order-2 lg:mr-2 xl:mr-2.5 2xl:mr-3 hidden-initial show-after-page1" id="prevBtn" onclick="navObject.PrevPage()">
                    <span>PREVIOUS</span>
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"/>
                    </svg>
                </button>
                <div class="flex lg:grow items-center select-none order-2 lg:order-1 hidden-initial show-in-progress" id="progressBar">
                    <span class="progress-text">PROGRESS</span>
                    <span class="font-extrabold text-white">0%</span>
                    <div class="h-3 relative w-44 sm:w-56 md:w-64 lg:w-72 2xl:w-80 overflow-hidden">
                        <div class="w-full h-full bg-gray-200 absolute"></div>
                        <div id="bar" class="h-full bg-green-500 relative"></div>
                    </div>
                    <!--<span class="relative mx-2 w-44 sm:w-56 md:w-64 lg:w-72 2xl:w-80 h-5 p-2 border border-white/50 bg-white/50 overflow-hidden">
                        <span class="absolute top-0 right-0 bottom-0 left-0 before:content[''] before:absolute before:w-[20rem] before:h-5 before:bg-lime-600"></span>
                    </span>-->
                    <span class="font-extrabold text-white">100%</span>
                </div>
                <button class="flex items-center order-3 lg:order-3 lg:ml-2 xl:ml-2.5 2xl:ml-3 hidden-initial show-in-progress" id="nextBtn" onclick="navObject.NextPage()">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"/>
                    </svg>
                    <span>NEXT</span>
                </button>

                <button class="p-2 bg-cyan-700 text-white lg:text-lg font-extrabold ml-auto hover:bg-lime-600 focus:bg-lime-700 order-4" id="start" onclick="navObject.Start()">START</button>

        </div>

    </div>

    <script>

        function learningData() {
            return {
                menuOpen: false
            }
        }

    </script>
    
    <script>

        let navObject = null;

        class Navigate {
            constructor(targetid) {
                this.page = 0;
                this.targetid = targetid;
                this.pagesurl = "/public/data/pages/";
                this.GetPageData();
                this.UpdateStates();
            }
            GetPageData() {
                let t = this;
                $.getJSON("/public/data/nav.json", function(json) {
                    t.Pages = json.Pages;
                });
            }
            Start() {
                this.page = 1;
                this.InjectPage();
            }
            NextPage() {
                this.page++;
                this.InjectPage();
            }
            PrevPage() {
                this.page--;
                this.InjectPage();
            }
            InjectPage() {
                let t = this;
                const curpage = this.Pages[this.page-1];
                $.get(this.pagesurl+curpage.pagefile, function(data) {
                    $(t.targetid).html(data);
                });
                t.UpdateProgressBar();
                t.UpdateStates();
            }
            UpdateProgressBar()
            {
                let progress = (this.page / this.Pages.length) * 100;
                $("#bar").css("width", progress.toString()+ "%");
            }
            UpdateStates() {
                //debugger;
                let atEnd = (this.Pages && (this.page == this.Pages.length));
                if (this.page === 0) {
                    $(".hidden-initial").addClass('hidden');
                } else if (this.page === 1) {
                    $(".show-in-progress").removeClass('hidden');
                    $("#homePage").addClass('hidden');
                    $("#start").addClass('hidden').text('RESUME');
                    $("#prevBtn").addClass('hidden');
                    $(".progress-overlay").addClass('in-progress');
                } else if (this.page > 1) {
                    $("#prevBtn").removeClass('hidden');
                }

                if (atEnd){
                    $("#nextBtn").addClass('hidden');
                    $("#start").removeClass('hidden').text('BACK TO HOME');
                }
                else if (this.page > 0)
                {
                    $("#nextBtn").removeClass('hidden'); 
                }
                    //$("#home1").removeClass('hidden');
                    //$("#home2").removeClass('hidden');
                    //$("#start").addClass('hidden');
                    //$(".menu-panel").removeClass('hidden');
                    //$(".progress-overlay").addClass('in-progress');
                    //$("#prevBtn").addClass('hidden');
                    //$(".content-panel.initial").addClass('hidden');
                    //$(".content-panel.injected").removeClass('hidden');
                    //$('#home2').addClass('lg:flex lg:flex-col lg:justify-end');

                /* //} else if (this.page = 2) {

                    //$("hidden-initial.show-after-page1").removeClass('hidden');

                    //$("#home1").addClass('hidden');
                    //$("#home2").addClass('hidden');
                    //$("#start").removeClass('hidden').text('RESUME');
                    //$(".menu-panel").addClass('hidden');
                    //$("#prevBtn").removeClass('hidden');

                    //$(".progress-overlay").addClass('in-progress');

                    //$(".content-panel.initial").addClass('hidden');
                    //$(".content-panel.injected").removeClass('hidden'); */

            }
        }

        $(document).ready(function () {
            //debugger;
            navObject = new Navigate("#injectionPoint");
        });


        //$("#home1").click(function() {  
        //    $(".content-panel.initial").removeClass('hidden');
        //    $(".content-panel.injected").addClass('hidden');
        //    $(".progress-overlay").removeClass('in-progress');
        //    $(".progress-overlay button").addClass('hidden');
        //    $(".menu-panel").addClass('hidden');
        //});
        //$("#home2").click(function() {
        //    $(".content-panel.initial").removeClass('hidden');
        //    $(".content-panel.injected").addClass('hidden');
        //    $(".progress-overlay").removeClass('in-progress');
        //    $(".progress-overlay button").addClass('hidden');
       //     $(".menu-panel").addClass('hidden');
        //});

    </script>

</body>
</html>